(function(){return function(){if(!this._is_form){return;}var obj=null;this.on_create=function(){this.set_name("Tab");this.set_scrolltype("none");this.set_background("#fafafa");if(Form==this.constructor){this._setFormPosition(1024,33);}obj=new Div("divButtonList","5","2",null,"49","174",null,null,null,null,null,this);obj.set_taborder("0");obj.set_formscrollbartype("fixed none");obj.set_formscrolltype("horizontal");obj.set_text("");this.addChild(obj.name,obj);obj=new Button("btnMaximize",null,"0","19","33","93",null,null,null,null,null,this);obj.set_taborder("1");obj.set_enable("true");obj.set_cssclass("btn_MDI_ScnBg, btn_MDI_ScnFull");this.addChild(obj.name,obj);obj=new Button("btnCascade",null,"0","19","33","71",null,null,null,null,null,this);obj.set_taborder("2");obj.set_cssclass("btn_MDI_ScnBg, btn_MDI_ScnWin");obj.set_enable("true");obj.set_text("");this.addChild(obj.name,obj);obj=new Button("btnHorizontal",null,"0","18","33","49",null,null,null,null,null,this);obj.set_taborder("3");obj.set_cssclass("btn_MDI_ScnBg, btn_MDI_ScnVDiv");obj.set_enable("true");this.addChild(obj.name,obj);obj=new Button("btnVertical",null,"0","17","33","27",null,null,null,null,null,this);obj.set_taborder("4");obj.set_cssclass("btn_MDI_ScnBg, btn_MDI_ScnHDiv");obj.set_enable("true");this.addChild(obj.name,obj);obj=new Button("btnCloseAll",null,"0","17","33","5",null,null,null,null,null,this);obj.set_taborder("5");obj.set_cssclass("btn_MDI_ScnBg, btn_MDI_ScnClose");obj.set_enable("true");this.addChild(obj.name,obj);obj=new Button("btnMdiPrev",null,"0","19","33","144",null,null,null,null,null,this);obj.set_taborder("6");obj.set_cssclass("btn_MDI_LeftTabCha");obj.set_enable("false");this.addChild(obj.name,obj);obj=new Button("btnMdiNext",null,"0","19","33","121",null,null,null,null,null,this);obj.set_taborder("7");obj.set_cssclass("btn_MDI_RightTabCha");obj.set_enable("false");this.addChild(obj.name,obj);obj=new Static("Static00",null,"13","1","6","141",null,null,null,null,null,this);obj.set_taborder("8");obj.set_background("#bec0c2");this.addChild(obj.name,obj);obj=new Layout("default","",1024,33,this,function(p){});obj.set_mobileorientation("landscape");this.addLayout(obj.name,obj);};this.loadPreloadList=function(){};this.registerScript("Tab.xfdl",function(){this.fvLeft=0;this.fvTabButtonSize=200;this.fnOpenTabMenu=function(menuId,menuNm){this.fnInitTab();this.fnCreateTab(menuId,menuNm);};this.fnInitTab=function(){var objDiv;var i;for(i=0;i<this.divButtonList.form.components.length;i++ ){objDiv=this.divButtonList.form.components[i];if(String(objDiv.name).indexOf("div")> -1){objDiv.form.btnTab.set_cssclass("btn_MDI_Tab");}}};this.fnCreateTab=function(menuId,menuNm){var nLeft=this.fvLeft;var nWidth=nexacro.getTextSize(menuNm,"");var sMenuId="div"+menuId;var objDiv=new Div();objDiv.titletext=menuNm;objDiv.init(sMenuId,nLeft,0,this.fvTabButtonSize,31);objDiv.set_async(false);objDiv.set_url("frame::TabButton.xfdl");this.divButtonList.form.addChild(sMenuId,objDiv);objDiv.show();objDiv.form.btnTab.set_tooltiptext(menuNm);this.divButtonList.form.resetScroll();this.divButtonList.form.hscrollbar.set_pos(this.fvLeft);this.fvLeft=nLeft+objDiv.getOffsetWidth();return objDiv;};this.fnCloseAllTab=function(){var objDiv;var i;for(i=0;i<this.divButtonList.form.components.length;i++ ){objDiv=this.divButtonList.form.components[i];if(String(objDiv.name).indexOf("div")> -1){this.divButtonList.form.components[i].btnTab.set_cssclass("btn_MDI_Tab");}}this.divButtonList.form.resetScroll();this.divButtonList.form.hscrollbar.set_pos(0);};this.fnSetTabFocus=function(divNm){this.fnInitTab();var objApp=nexacro.getApplication();var objDiv=this.divButtonList.form.components[divNm];objDiv.form.btnTab.set_cssclass("btn_MDI_TabFix");var nMaxPos=this.divButtonList.form.hscrollbar.max;if(!this.gfnIsNull(nMaxPos)&&nMaxPos>0){var nLeft=objDiv.getOffsetLeft();if(this.divButtonList.getOffsetWidth()<nLeft){var nHScollbarPos=nLeft-this.divButtonList.getOffsetWidth()+objDiv.getOffsetWidth();this.divButtonList.form.hscrollbar.set_pos(nHScollbarPos);}else{this.divButtonList.form.hscrollbar.set_pos(0);}}else{this.divButtonList.form.hscrollbar.set_pos(0);}};this.fnRearrange=function(divNm){this.fvLeft=0;var objDiv;var i;for(i=0;i<this.divButtonList.form.components.length;i++ ){objDiv=this.divButtonList.form.components[i];if(String(objDiv.name).indexOf("div")> -1){this.divButtonList.form.components[i].move(this.fvLeft,0);this.fvLeft=this.fvLeft+objDiv.getOffsetWidth();}}this.divButtonList.form.resetScroll();if(this.divButtonList.form.hscrollbar.max<0){this.divButtonList.form.hscrollbar.set_pos(0);}};this.fnMenuMove=function(pvType){switch(pvType){case "NEXT":this.divButtonList.form.scrollBy(this.fvTabButtonSize,0);break;case "PREV":this.divButtonList.form.scrollBy( -this.fvTabButtonSize,0);break;}var hVarPos=this.divButtonList.form.hscrollbar.pos;if(hVarPos>0){this.btnMdiPrev.set_enable(true);}else{this.btnMdiPrev.set_enable(false);}if(this.divButtonList.form.hscrollbar&&hVarPos<this.divButtonList.form.hscrollbar.max){this.btnMdiNext.set_enable(true);}else{this.btnMdiNext.set_enable(false);}this.divButtonList.form.resetScroll();};this.fnComBtnOnClick=function(obj,e){switch(obj.name){case "btnMdiPrev":this.fnMenuMove("PREV");break;case "btnMdiNext":this.fnMenuMove("NEXT");break;case "btnMaximize":var workFrame=nexacro.getApplication().mainframe.VFrameSet.HFrameSet.VFrameSet00.Work;var childFrame=nexacro.getApplication().mainframe.VFrameSet.HFrameSet.VFrameSet00.Work.getActiveFrame();workFrame.set_enableevent(false);var i;for(i=0;i<workFrame.frames.length;i++ ){workFrame.frames[i].set_enableevent(false);workFrame.frames[i].form.set_enableevent(false);workFrame.frames[i].set_showtitlebar(false);workFrame.frames[i].set_border("0px none #808080");workFrame.frames[i].set_openstatus("maximize");workFrame.frames[i].form.set_enableevent(true);workFrame.frames[i].set_enableevent(true);}workFrame.set_enableevent(true);childFrame.setFocus();break;case "btnCascade":case "btnHorizontal":case "btnVertical":var btnNm=obj.name;var workFrame=nexacro.getApplication().mainframe.VFrameSet.HFrameSet.VFrameSet00.Work;var childFrame=nexacro.getApplication().mainframe.VFrameSet.HFrameSet.VFrameSet00.Work.getActiveFrame();workFrame.set_enableevent(false);var i;for(i=0;i<workFrame.frames.length;i++ ){workFrame.frames[i].set_enableevent(false);workFrame.frames[i].form.set_enableevent(false);workFrame.frames[i].set_showtitlebar(true);workFrame.frames[i].set_border("1px solid #777777");workFrame.frames[i].form.set_enableevent(true);workFrame.frames[i].set_enableevent(true);}workFrame.set_enableevent(true);switch(btnNm){case "btnCascade":workFrame.arrange("cascade");break;case "btnHorizontal":workFrame.arrange("horizontal");break;case "btnVertical":workFrame.arrange("vertical");break;}break;case "btnCloseAll":var workFrame=nexacro.getApplication().mainframe.VFrameSet.HFrameSet.VFrameSet00.Work;while(true){if(workFrame.frames.length<1){break;}workFrame.frames[workFrame.getActiveFrame().name].form.close();}break;}};this.divButtonList_onhscroll=function(obj,e){if(this.divButtonList.form.hscrollbar.max<1){this.btnMdiNext.set_enable(false);this.btnMdiPrev.set_enable(false);return;}var hVarPos=obj.form.hscrollbar.pos;if(hVarPos>0){this.btnMdiPrev.set_enable(true);}else{this.btnMdiPrev.set_enable(false);}if(hVarPos<this.divButtonList.form.hscrollbar.max){this.btnMdiNext.set_enable(true);}else{this.btnMdiNext.set_enable(false);}};this.divButtonList_onsize=function(obj,e){this.divButtonList_onhscroll(obj);};});this.on_initEvent=function(){this.divButtonList.addEventHandler("onhscroll",this.divButtonList_onhscroll,this);this.divButtonList.addEventHandler("onsize",this.divButtonList_onsize,this);this.btnMaximize.addEventHandler("onclick",this.fnComBtnOnClick,this);this.btnCascade.addEventHandler("onclick",this.fnComBtnOnClick,this);this.btnHorizontal.addEventHandler("onclick",this.fnComBtnOnClick,this);this.btnVertical.addEventHandler("onclick",this.fnComBtnOnClick,this);this.btnCloseAll.addEventHandler("onclick",this.fnComBtnOnClick,this);this.btnMdiPrev.addEventHandler("onclick",this.fnComBtnOnClick,this);this.btnMdiNext.addEventHandler("onclick",this.fnComBtnOnClick,this);};this.loadIncludeScript("Tab.xfdl");this.loadPreloadList();obj=null;};})();