--회원
CREATE TABLE CUSTOMER(
   MEMBER_CODE NUMBER NOT NULL,
   MEMBER_ID VARCHAR2(20) NOT NULL,
   MEMBER_PWD VARCHAR2(50) NOT NULL,
   MEMBER_NAME VARCHAR2(50) NOT NULL,
   MEMBER_BIRTH VARCHAR2(20) NOT NULL,
   MEMBER_TEL VARCHAR2(100) NOT NULL,
   MEMBER_EMAIL VARCHAR2(200) NOT NULL,
   MEMBER_ADDR VARCHAR2(200) NOT NULL,
   CONSTRAINT CUSTOMER_CODE_PK PRIMARY KEY(MEMBER_CODE)
);

CREATE SEQUENCE CUSTOMER_SEQ
START WITH 1
INCREMENT BY 1
NOCACHE
NOCYCLE;

SELECT * FROM CUSTOMER

DROP TABLE CUSTOMER; 
DROP SEQUENCE CUSTOMER_SEQ;

----------------------------------------------------------------------------------------------------------------------------------------------
--게시글분류
CREATE TABLE CLASSIFICATION(
  CLASS_CODE NUMBER,
  CLASS_NAME VARCHAR2(100),
  CONSTRAINT CLASS_CODE_PK PRIMARY KEY(CLASS_CODE)
);

INSERT INTO CLASSIFICATION VALUES(1, '티켓상품문의');
INSERT INTO CLASSIFICATION VALUES(2, '티켓 상품변경/취소문의');
INSERT INTO CLASSIFICATION VALUES(3, '티켓 반품/교환문의');
INSERT INTO CLASSIFICATION VALUES(4, '예약문의');
INSERT INTO CLASSIFICATION VALUES(5, '입금문의');
INSERT INTO CLASSIFICATION VALUES(6, '기타문의');

DROP TABLE CLASSIFICATION

----------------------------------------------------------------------------------------------------------------------------------------------
--게시글
CREATE TABLE BOARD(
   	NUM NUMBER,
   	WRITER VARCHAR2(20),
 	EMAIL VARCHAR2(30),
	SUBJECT VARCHAR2(50),
	REG_DATE DATE,
	READCOUNT NUMBER DEFAULT 0, 
	REF NUMBER, 
	RE_STEP NUMBER, 
	RE_LEVEL NUMBER, 
	CONTENT VARCHAR2(100),
	IP VARCHAR2(20),
    UPLOAD VARCHAR2(300)
);

CREATE SEQUENCE BOARD_SEQ 
START WITH 1 
INCREMENT BY 1
NOCACHE
NOCYCLE;

SELECT * FROM BOARD;

DROP TABLE BOARD;
DROP SEQUENCE BOARD_SEQ;

--TEST------------------------------------------------------------------------------------------------
INSERT INTO BOARD VALUES(BOARD_SEQ.NEXTVAL, '홍길동','YOUNG@AAAA.COM','제목1',SYSDATE,0,BOARD_SEQ.NEXTVAL,0,0,'내용 테스트.......','127.0.0.1','SAMPLE.TXT');
------------------------------------------------------------------------------------------------------

----------------------------------------------------------------------------------------------------------------------------------------------
--관리자
CREATE TABLE ADMIN(
  ADMIN_ID VARCHAR2(100),
  ADMIN_PASSWORD VARCHAR2(100)
);

INSERT INTO ADMIN VALUES('ADMIN', '1234');

----------------------------------------------------------------------------------------------------------------------------------------------
--공지사항
CREATE TABLE NOTICE(
 NOTICE_ID NUMBER,
 NOTICE_SUBJECT VARCHAR2(200),
 NOTICE_CONTENT VARCHAR2(2000),
 NOTICE_DATE DATE,
 NOTICE_UPLOAD VARCHAR2(300),
 CONSTRAINT NOTICE_ID_PK PRIMARY KEY(NOTICE_ID)
);

CREATE SEQUENCE NOTICE_NUM_SEQ
START WITH 1
INCREMENT BY 1
NOCACHE
NOCYCLE;

SELECT * FROM NOTICE

DROP TABLE NOTICE
DROP SEQUENCE NOTICE_NUM_SEQ

--TEST--------------------------------------------------------------------------------------------------
INSERT INTO NOTICE VALUES(NOTICE_NUM_SEQ.NEXTVAL, '티켓상품문의', '티켓의 상품에 대하여 질문합니다.', SYSDATE, 'IMG.JPG');
INSERT INTO NOTICE VALUES(NOTICE_NUM_SEQ.NEXTVAL, '티켓 상품변경/취소문의', '티켓 상품 변경에 대하여 질문합니다.', SYSDATE, 'IMG.JPG');
INSERT INTO NOTICE VALUES(NOTICE_NUM_SEQ.NEXTVAL, '티켓 반품/교환문의', '티켓 반품 및 교환에 대하여 질문합니다.', SYSDATE, 'IMG.JPG');
INSERT INTO NOTICE VALUES(NOTICE_NUM_SEQ.NEXTVAL, '예약문의', '예약문의에 대하여 질문합니다.', SYSDATE, 'IMG.JPG');
INSERT INTO NOTICE VALUES(NOTICE_NUM_SEQ.NEXTVAL, '입금문의', '입금문의에 대하여 질문합니다.', SYSDATE, 'IMG.JPG');
INSERT INTO NOTICE VALUES(NOTICE_NUM_SEQ.NEXTVAL, '기타문의', '기타문의에 대하여 질문합니다.', SYSDATE, 'IMG.JPG');
INSERT INTO NOTICE VALUES(NOTICE_NUM_SEQ.NEXTVAL, '티켓상품문의', '티켓상품 질문합니다.', SYSDATE, 'IMG.JPG');
INSERT INTO NOTICE VALUES(NOTICE_NUM_SEQ.NEXTVAL, '티켓 상품변경/취소문의', '티켓 취소에 대하여 질문합니다.', SYSDATE, 'IMG.JPG');
INSERT INTO NOTICE VALUES(NOTICE_NUM_SEQ.NEXTVAL, '티켓 반품/교환문의', '티켓 반품에 대하여 질문합니다.', SYSDATE, 'IMG.JPG');
INSERT INTO NOTICE VALUES(NOTICE_NUM_SEQ.NEXTVAL, '예약문의', '어제산 티켓의 예약에 대해 질문합니다.', SYSDATE, 'IMG.JPG');
INSERT INTO NOTICE VALUES(NOTICE_NUM_SEQ.NEXTVAL, '입금문의', '입금절차에 대해서 질문합니다.', SYSDATE, 'IMG.JPG');
INSERT INTO NOTICE VALUES(NOTICE_NUM_SEQ.NEXTVAL, '기타문의', '카드상품에 대해 질문합니다.', SYSDATE, 'IMG.JPG');
INSERT INTO NOTICE VALUES(NOTICE_NUM_SEQ.NEXTVAL, '티켓상품문의', '티켓 질문합니다.', SYSDATE, 'IMG.JPG');
INSERT INTO NOTICE VALUES(NOTICE_NUM_SEQ.NEXTVAL, '티켓 상품변경/취소문의', '상품에 대해 질문합니다.', SYSDATE, 'IMG.JPG');
INSERT INTO NOTICE VALUES(NOTICE_NUM_SEQ.NEXTVAL, '티켓 반품/교환문의', '반품질문합니다.', SYSDATE, 'IMG.JPG');
INSERT INTO NOTICE VALUES(NOTICE_NUM_SEQ.NEXTVAL, '예약문의', '예약문의 질문합니다.', SYSDATE, 'IMG.JPG');
INSERT INTO NOTICE VALUES(NOTICE_NUM_SEQ.NEXTVAL, '입금문의', '입금절차 질문합니다.', SYSDATE, 'IMG.JPG');
INSERT INTO NOTICE VALUES(NOTICE_NUM_SEQ.NEXTVAL, '기타문의', '기타 절차에 대해 질문합니다.', SYSDATE, 'IMG.JPG');
INSERT INTO NOTICE VALUES(NOTICE_NUM_SEQ.NEXTVAL, '티켓상품문의', '티켓 상품문의에 대해 질문합니다.', SYSDATE, 'IMG.JPG');
INSERT INTO NOTICE VALUES(NOTICE_NUM_SEQ.NEXTVAL, '티켓 상품변경/취소문의', '상품 변경에 대해 질문합니다.', SYSDATE, 'IMG.JPG');
INSERT INTO NOTICE VALUES(NOTICE_NUM_SEQ.NEXTVAL, '티켓 반품/교환문의', '반품 절차에 대해 질문합니다.', SYSDATE, 'IMG.JPG');
INSERT INTO NOTICE VALUES(NOTICE_NUM_SEQ.NEXTVAL, '예약문의', '예약 및 변경에 대해 질문합니다.', SYSDATE, 'IMG.JPG');
INSERT INTO NOTICE VALUES(NOTICE_NUM_SEQ.NEXTVAL, '입금문의', '입금 날짜에 대해 질문합니다.', SYSDATE, 'IMG.JPG');
INSERT INTO NOTICE VALUES(NOTICE_NUM_SEQ.NEXTVAL, '기타문의', '기타질의에 대해 질문합니다.', SYSDATE, 'IMG.JPG');

SELECT B.* FROM
     (SELECT ROWNUM AS RM, A.* FROM(
     SELECT NOTICE_ID, NOTICE_SUBJECT, NOTICE_DATE FROM NOTICE ORDER BY NOTICE_ID DESC)A)B
     WHERE B.RM >= 1 AND B.RM <= 2

----------------------------------------------------------------------------------------------------------------------------------------------

----------------------------------------------------------------------------------------------------------------------------------------------
--경유지
CREATE TABLE STOPOVER(
	STOPOVER_CODE NUMBER,
	AIRLINE_NAME VARCHAR2(200),
	AIRLINE_NATION VARCHAR2(200),
	AIRLINE_SITE VARCHAR2(200),
	ROUTE_DEPART_REGION VARCHAR2(200),
	ROUTE_ARRIVE_REGION VARCHAR2(200),
	ARRIVE_TIME VARCHAR2(200), --공항도착시간
	DEPART_TIME VARCHAR2(200), --공항출발시간
	ROUTE_BEFORE_ESTIMATE_TIME VARCHAR2(200), --경유 공항까지 예상시간
	ROUTE_ESTIMATE_TIME VARCHAR2(200), --공항대기시간
	ROUTE_AFTER_ESTIMATE_TIME VARCHAR2(200), --최종목적지 공항까지 예상시간
	ROUTE_FLIGHT_NAME VARCHAR2(200), --항공편명
	CONSTRAINT STOPOVER_CODE_PK PRIMARY KEY(STOPOVER_CODE)
);

INSERT INTO STOPOVER VALUES(1, '나리타항공', '일본', 'HTTPS://WWW.NARITA-AIRPORT.JP/KR/', '오사카, 일본 (KIX-간사이 국제공항)', '도쿄, 일본 (HND-하네다 공항)', '08:10', '08:50', '2H', '40M', '1H', 'MM568');
INSERT INTO STOPOVER VALUES(2, '간사이항공', '일본', 'HTTPS://WWW.NARITA-AIRPORT.JP/KR/', '오사카, 일본 (KIX-간사이 국제공항)', '도쿄, 일본 (HND-하네다 공항)', '11:10', '11:30', '2H', '20M', '1H10M', 'KJ568');

SELECT * FROM STOPOVER
DROP TABLE STOPOVER;

----------------------------------------------------------------------------------------------------------------------------------------------
--좌석등급
CREATE TABLE SEATGRADE(
	GRADE_CODE NUMBER NOT NULL,
	GRADE_NAME VARCHAR2(200),
	CONSTRAINT GRADE_CODE_PK PRIMARY KEY(GRADE_CODE)
);

SELECT * FROM SEATGRADE;
DROP TABLE SEATGRADE

----------------------------------------------------------------------------------------------------------------------------------------------
--좌석등급 데이터 삽입--
INSERT INTO SEATGRADE VALUES(1, '일반석');
INSERT INTO SEATGRADE VALUES(2, '비즈니스석');
INSERT INTO SEATGRADE VALUES(3, '일등석');

----------------------------------------------------------------------------------------------------------------------------------------------

----------------------------------------------------------------------------------------------------------------------------------------------
--항공기
CREATE TABLE PLANE(
   PLANE_CODE NUMBER NOT NULL, --항공기코드
   FLIGHT_NAME VARCHAR2(200), --항공편명
   SEATING_CAPACITY NUMBER(10), --좌석수
   AIRPLANE_MODEL VARCHAR2(200), --기종이름  
   AIRLINE_NAME VARCHAR2(200), --항공사이름
   CONSTRAINT PLANE_CODE_PK PRIMARY KEY(PLANE_CODE)
);

SELECT * FROM PLANE;
DROP TABLE PLANE;

----------------------------------------------------------------------------------------------------------------------------------------------
--항공기 데이터 삽입 (왕복/편도(인천공항->하네다공항) 항공기 32대 필요)--

--03월05일 인천공항발 하네다공항도착
INSERT INTO PLANE VALUES(1, 'MM808', 50, 'AIRBUS A330', '대한항공');
INSERT INTO PLANE VALUES(2, 'AB808', 50, 'AIRBUS B747', '대한항공');
INSERT INTO PLANE VALUES(3, 'KE2710', 50, 'AIRBUS B747', '아시아나항공');
INSERT INTO PLANE VALUES(4, 'LE2452', 50, 'AIRBUS B767', '아시아나항공');
INSERT INTO PLANE VALUES(5, 'MJ9232', 50, 'AIRBUS A380', 'JAL일본항공');
INSERT INTO PLANE VALUES(6, 'MM822', 50, 'AIRBUS A350', 'JAL일본항공');
INSERT INTO PLANE VALUES(7, 'AA808', 50, 'AIRBUS B747', '중국동방항공');
INSERT INTO PLANE VALUES(8, 'BB808', 50, 'AIRBUS B777', '중국동방항공');
INSERT INTO PLANE VALUES(9, 'CC008', 50, 'AIRBUS B767', 'ANA항공');
INSERT INTO PLANE VALUES(10, 'CF708', 50, 'AIRBUS A330', 'ANA항공');
INSERT INTO PLANE VALUES(11, 'A2E808', 50, 'AIRBUS A321', '진에어항공');
INSERT INTO PLANE VALUES(12, 'AG108', 50, 'AIRBUS A321', '진에어항공');
INSERT INTO PLANE VALUES(13, 'LL008', 50, 'AIRBUS A320', '티웨이항공');
INSERT INTO PLANE VALUES(14, 'OP958', 50, 'AIRBUS H777', '티웨이항공');
INSERT INTO PLANE VALUES(15, 'YT228', 50, 'AIRBUS K767', '이스타항공');
INSERT INTO PLANE VALUES(16, 'YYUK08', 50, 'AIRBUS A323', '이스타항공');
INSERT INTO PLANE VALUES(17, 'YAA228', 50, 'AIRBUS AB767', '에바항공');
INSERT INTO PLANE VALUES(18, 'YDKK08', 50, 'AIRBUS GD323', '에바항공');
INSERT INTO PLANE VALUES(19, 'ZN228', 50, 'AIRBUS HD767', '타이항공');
INSERT INTO PLANE VALUES(20, 'AQUK08', 50, 'AIRBUS QQW323', '타이항공');
INSERT INTO PLANE VALUES(21, 'ATL228', 50, 'AIRBUS QP767', '알래스카항공');
INSERT INTO PLANE VALUES(22, 'CAUUK08', 50, 'AIRBUS QUY323', '알래스카항공');

--03월12일 하네다공항발 인천공항도착
INSERT INTO PLANE VALUES(23, 'KL801', 50, 'AIRBUS A325', '대한항공');
INSERT INTO PLANE VALUES(24, 'QW602', 50, 'AIRBUS A326', '대한항공');
INSERT INTO PLANE VALUES(25, 'WE506', 50, 'AIRBUS B779', '아시아나항공');
INSERT INTO PLANE VALUES(26, 'CS406', 50, 'AIRBUS Z7611', '아시아나항공');
INSERT INTO PLANE VALUES(27, 'ZG104', 50, 'AIRBUS A430', 'JAL일본항공');
INSERT INTO PLANE VALUES(28, 'ZI204', 50, 'AIRBUS B7117', 'JAL일본항공');
INSERT INTO PLANE VALUES(29, 'ZJ202', 50, 'AIRBUS B777F', '중국동방항공');
INSERT INTO PLANE VALUES(30, 'MZIY378', 50, 'AIRBUS B888', '중국동방항공');
INSERT INTO PLANE VALUES(31, 'SUEX07', 50, 'AIRBUS A320', 'ANA항공');
INSERT INTO PLANE VALUES(32, 'CNEZ07', 50, 'AIRBUS A354', 'ANA항공');
INSERT INTO PLANE VALUES(33, 'CCNA02', 50, 'AIRBUS B771', '진에어항공');
INSERT INTO PLANE VALUES(34, 'DKSB02', 50, 'AIRBUS B990', '진에어항공');
INSERT INTO PLANE VALUES(35, 'AKSS02', 50, 'AIRBUS B766', '티웨이항공');
INSERT INTO PLANE VALUES(36, 'DME101', 50, 'AIRBUS A123', '티웨이항공');
INSERT INTO PLANE VALUES(37, 'VNJ001', 50, 'AIRBUS A330', '이스타항공');
INSERT INTO PLANE VALUES(38, 'DKS201', 50, 'AIRBUS B747', '이스타항공');
INSERT INTO PLANE VALUES(39, 'NC228', 50, 'AIRBUS JA9767', '에바항공');
INSERT INTO PLANE VALUES(40, 'NAQUK08', 50, 'AIRBUS QQW323', '에바항공');
INSERT INTO PLANE VALUES(41, 'YWW728', 50, 'AIRBUS KKM767', '타이항공');
INSERT INTO PLANE VALUES(42, 'YDNJ08', 50, 'AIRBUS QQB323', '타이항공');
INSERT INTO PLANE VALUES(43, 'YQAT208', 50, 'AIRBUS PIZ767', '알래스카항공');
INSERT INTO PLANE VALUES(44, 'YZZK08', 50, 'AIRBUS ZJR323', '알래스카항공');
----------------------------------------------------------------------------------------------------------------------------------------------
--항공기 모델
CREATE TABLE PLANE_MODEL (
	PLANE_CODE NUMBER, --항공기코드(FK)
	GRADE_CODE NUMBER, --좌석등급(FK)
	SEAT_CAPACITY NUMBER(10), --좌석등급에 대한 좌석 수
	CONSTRAINT PLANE_CODE_FK3 FOREIGN KEY(PLANE_CODE) REFERENCES PLANE(PLANE_CODE) ON DELETE CASCADE,
	CONSTRAINT GRADE_CODE_FK2 FOREIGN KEY(GRADE_CODE) REFERENCES SEATGRADE(GRADE_CODE) ON DELETE CASCADE
);

SELECT * FROM PLANE_MODEL;
DROP TABLE PLANE_MODEL;

----------------------------------------------------------------------------------------------------------------------------------------------
--TEST
UPDATE PLANE_MODEL SET SEAT_CAPACITY=4 WHERE PLANE_CODE = 23 AND GRADE_CODE = 3;

--AIRBUS A330-300 항공기에 일반석 5석 삽입, 비즈니스석 10석 삽입, 일등석 35석 삽입--
--나머지 항공기도 동일한 작업을 수행하도록 한다.--
--AIRBUS A330-300 항공기에 퍼스트 클래스 5석 삽입--
INSERT INTO PLANE_MODEL VALUES(1, 1, 5);
INSERT INTO PLANE_MODEL VALUES(1, 2, 10);
INSERT INTO PLANE_MODEL VALUES(1, 3, 35);

INSERT INTO PLANE_MODEL VALUES(2, 1, 5);
INSERT INTO PLANE_MODEL VALUES(2, 2, 10);
INSERT INTO PLANE_MODEL VALUES(2, 3, 35);

INSERT INTO PLANE_MODEL VALUES(3, 1, 5);
INSERT INTO PLANE_MODEL VALUES(3, 2, 10);
INSERT INTO PLANE_MODEL VALUES(3, 3, 35);

INSERT INTO PLANE_MODEL VALUES(4, 1, 5);
INSERT INTO PLANE_MODEL VALUES(4, 2, 10);
INSERT INTO PLANE_MODEL VALUES(4, 3, 35);

INSERT INTO PLANE_MODEL VALUES(5, 1, 5);
INSERT INTO PLANE_MODEL VALUES(5, 2, 10);
INSERT INTO PLANE_MODEL VALUES(5, 3, 35);

INSERT INTO PLANE_MODEL VALUES(6, 1, 5);
INSERT INTO PLANE_MODEL VALUES(6, 2, 10);
INSERT INTO PLANE_MODEL VALUES(6, 3, 35);

INSERT INTO PLANE_MODEL VALUES(7, 1, 5);
INSERT INTO PLANE_MODEL VALUES(7, 2, 10);
INSERT INTO PLANE_MODEL VALUES(7, 3, 35);

INSERT INTO PLANE_MODEL VALUES(8, 1, 5);
INSERT INTO PLANE_MODEL VALUES(8, 2, 10);
INSERT INTO PLANE_MODEL VALUES(8, 3, 35);

INSERT INTO PLANE_MODEL VALUES(9, 1, 5);
INSERT INTO PLANE_MODEL VALUES(9, 2, 10);
INSERT INTO PLANE_MODEL VALUES(9, 3, 35);

INSERT INTO PLANE_MODEL VALUES(10, 1, 5);
INSERT INTO PLANE_MODEL VALUES(10, 2, 10);
INSERT INTO PLANE_MODEL VALUES(10, 3, 35);

INSERT INTO PLANE_MODEL VALUES(11, 1, 5);
INSERT INTO PLANE_MODEL VALUES(11, 2, 10);
INSERT INTO PLANE_MODEL VALUES(11, 3, 35);

INSERT INTO PLANE_MODEL VALUES(12, 1, 5);
INSERT INTO PLANE_MODEL VALUES(12, 2, 10);
INSERT INTO PLANE_MODEL VALUES(12, 3, 35);

INSERT INTO PLANE_MODEL VALUES(13, 1, 5);
INSERT INTO PLANE_MODEL VALUES(13, 2, 10);
INSERT INTO PLANE_MODEL VALUES(13, 3, 35);

INSERT INTO PLANE_MODEL VALUES(14, 1, 5);
INSERT INTO PLANE_MODEL VALUES(14, 2, 10);
INSERT INTO PLANE_MODEL VALUES(14, 3, 35);

INSERT INTO PLANE_MODEL VALUES(15, 1, 5);
INSERT INTO PLANE_MODEL VALUES(15, 2, 10);
INSERT INTO PLANE_MODEL VALUES(15, 3, 35);

INSERT INTO PLANE_MODEL VALUES(16, 1, 5);
INSERT INTO PLANE_MODEL VALUES(16, 2, 10);
INSERT INTO PLANE_MODEL VALUES(16, 3, 35);

INSERT INTO PLANE_MODEL VALUES(17, 1, 5);
INSERT INTO PLANE_MODEL VALUES(17, 2, 10);
INSERT INTO PLANE_MODEL VALUES(17, 3, 35);

INSERT INTO PLANE_MODEL VALUES(18, 1, 5);
INSERT INTO PLANE_MODEL VALUES(18, 2, 10);
INSERT INTO PLANE_MODEL VALUES(18, 3, 35);

INSERT INTO PLANE_MODEL VALUES(19, 1, 5);
INSERT INTO PLANE_MODEL VALUES(19, 2, 10);
INSERT INTO PLANE_MODEL VALUES(19, 3, 35);

INSERT INTO PLANE_MODEL VALUES(20, 1, 5);
INSERT INTO PLANE_MODEL VALUES(20, 2, 10);
INSERT INTO PLANE_MODEL VALUES(20, 3, 35);

INSERT INTO PLANE_MODEL VALUES(21, 1, 5);
INSERT INTO PLANE_MODEL VALUES(21, 2, 10);
INSERT INTO PLANE_MODEL VALUES(21, 3, 35);

INSERT INTO PLANE_MODEL VALUES(22, 1, 5);
INSERT INTO PLANE_MODEL VALUES(22, 2, 10);
INSERT INTO PLANE_MODEL VALUES(22, 3, 35);

INSERT INTO PLANE_MODEL VALUES(23, 1, 5);
INSERT INTO PLANE_MODEL VALUES(23, 2, 10);
INSERT INTO PLANE_MODEL VALUES(23, 3, 35);

INSERT INTO PLANE_MODEL VALUES(24, 1, 5);
INSERT INTO PLANE_MODEL VALUES(24, 2, 10);
INSERT INTO PLANE_MODEL VALUES(24, 3, 35);

INSERT INTO PLANE_MODEL VALUES(25, 1, 5);
INSERT INTO PLANE_MODEL VALUES(25, 2, 10);
INSERT INTO PLANE_MODEL VALUES(25, 3, 35);

INSERT INTO PLANE_MODEL VALUES(26, 1, 5);
INSERT INTO PLANE_MODEL VALUES(26, 2, 10);
INSERT INTO PLANE_MODEL VALUES(26, 3, 35);

INSERT INTO PLANE_MODEL VALUES(27, 1, 5);
INSERT INTO PLANE_MODEL VALUES(27, 2, 10);
INSERT INTO PLANE_MODEL VALUES(27, 3, 35);

INSERT INTO PLANE_MODEL VALUES(28, 1, 5);
INSERT INTO PLANE_MODEL VALUES(28, 2, 10);
INSERT INTO PLANE_MODEL VALUES(28, 3, 35);

INSERT INTO PLANE_MODEL VALUES(29, 1, 5);
INSERT INTO PLANE_MODEL VALUES(29, 2, 10);
INSERT INTO PLANE_MODEL VALUES(29, 3, 35);

INSERT INTO PLANE_MODEL VALUES(30, 1, 5);
INSERT INTO PLANE_MODEL VALUES(30, 2, 10);
INSERT INTO PLANE_MODEL VALUES(30, 3, 35);

INSERT INTO PLANE_MODEL VALUES(31, 1, 5);
INSERT INTO PLANE_MODEL VALUES(31, 2, 10);
INSERT INTO PLANE_MODEL VALUES(31, 3, 35);

INSERT INTO PLANE_MODEL VALUES(32, 1, 5);
INSERT INTO PLANE_MODEL VALUES(32, 2, 10);
INSERT INTO PLANE_MODEL VALUES(32, 3, 35);

INSERT INTO PLANE_MODEL VALUES(33, 1, 5);
INSERT INTO PLANE_MODEL VALUES(33, 2, 10);
INSERT INTO PLANE_MODEL VALUES(33, 3, 35);

INSERT INTO PLANE_MODEL VALUES(34, 1, 5);
INSERT INTO PLANE_MODEL VALUES(34, 2, 10);
INSERT INTO PLANE_MODEL VALUES(34, 3, 35);

INSERT INTO PLANE_MODEL VALUES(35, 1, 5);
INSERT INTO PLANE_MODEL VALUES(35, 2, 10);
INSERT INTO PLANE_MODEL VALUES(35, 3, 35);

INSERT INTO PLANE_MODEL VALUES(36, 1, 5);
INSERT INTO PLANE_MODEL VALUES(36, 2, 10);
INSERT INTO PLANE_MODEL VALUES(36, 3, 35);

INSERT INTO PLANE_MODEL VALUES(37, 1, 5);
INSERT INTO PLANE_MODEL VALUES(37, 2, 10);
INSERT INTO PLANE_MODEL VALUES(37, 3, 35);

INSERT INTO PLANE_MODEL VALUES(38, 1, 5);
INSERT INTO PLANE_MODEL VALUES(38, 2, 10);
INSERT INTO PLANE_MODEL VALUES(38, 3, 35);

INSERT INTO PLANE_MODEL VALUES(39, 1, 5);
INSERT INTO PLANE_MODEL VALUES(39, 2, 10);
INSERT INTO PLANE_MODEL VALUES(39, 3, 35);

INSERT INTO PLANE_MODEL VALUES(40, 1, 5);
INSERT INTO PLANE_MODEL VALUES(40, 2, 10);
INSERT INTO PLANE_MODEL VALUES(40, 3, 35);

INSERT INTO PLANE_MODEL VALUES(41, 1, 5);
INSERT INTO PLANE_MODEL VALUES(41, 2, 10);
INSERT INTO PLANE_MODEL VALUES(41, 3, 35);

INSERT INTO PLANE_MODEL VALUES(42, 1, 5);
INSERT INTO PLANE_MODEL VALUES(42, 2, 10);
INSERT INTO PLANE_MODEL VALUES(42, 3, 35);

INSERT INTO PLANE_MODEL VALUES(43, 1, 5);
INSERT INTO PLANE_MODEL VALUES(43, 2, 10);
INSERT INTO PLANE_MODEL VALUES(43, 3, 35);

INSERT INTO PLANE_MODEL VALUES(44, 1, 5);
INSERT INTO PLANE_MODEL VALUES(44, 2, 10);
INSERT INTO PLANE_MODEL VALUES(44, 3, 35);


----------------------------------------------------------------------------------------------------------------------------------------------
--노선
CREATE TABLE ROUTE(
	STOPOVER_CODE NUMBER, --경유코드(FK)
	ROUTE_CODE NUMBER NOT NULL, --노선코드
	PLANE_CODE NUMBER, --항공기코드(FK)
	AIRLINE_NAME VARCHAR2(200), --항공사이름
	AIRLINE_NATION VARCHAR2(200), --국적
	AIRLINE_SITE VARCHAR2(200), --홈페이지
	ROUTE_DEPART_DAY VARCHAR2(200), --출발일
	ROUTE_DEPART_REGION VARCHAR2(200), --출발지
	ROUTE_ARRIVE_REGION VARCHAR2(200), --도착지
	DEPART_TIME VARCHAR2(200), --출발시간
	ARRIVE_TIME VARCHAR2(200), --도착시간
	ROUTE_CHARGE NUMBER(10), --기본요금
	ROUTE_REGISTER_DAY DATE, --노선등록일
	ROUTE_ESTIMATE_TIME VARCHAR2(200), --경로예상시간
	ROUTE_TYPE VARCHAR2(200), --경로타입
	ROUTE_DISTANCE VARCHAR2(200), --총거리
 	CONSTRAINT ROUTE_CODE_PK PRIMARY KEY(ROUTE_CODE),
 	CONSTRAINT STOPOVER_CODE_FK2 FOREIGN KEY(STOPOVER_CODE) REFERENCES STOPOVER(STOPOVER_CODE) ON DELETE CASCADE,
 	CONSTRAINT PLANE_CODE_FK2 FOREIGN KEY(PLANE_CODE) REFERENCES PLANE(PLANE_CODE) ON DELETE CASCADE
);

CREATE SEQUENCE ROUTE_SEQ_NUM
START WITH 1
INCREMENT BY 1
NOCACHE
NOCYCLE;

SELECT * FROM ROUTE

DROP TABLE ROUTE;
DROP SEQUENCE ROUTE_SEQ_NUM;

--TEST-------------------------------------------------------------------------------------------------------------------------------------------
SELECT * FROM ROUTE 
ORDER BY ROUTE_CHARGE ASC

SELECT B.* FROM
	     (SELECT ROWNUM AS RM, A.* FROM(
	     SELECT ROUTE_CODE, AIRLINE_NAME, DEPART_TIME, ARRIVE_TIME, ROUTE_ESTIMATE_TIME, ROUTE_TYPE FROM ROUTE ORDER BY ROUTE_CODE ASC)A)B
	     WHERE B.RM >= 1 AND B.RM <= 2
	     
SELECT COUNT(*) FROM ROUTE WHERE ROUTE_DEPART_DAY = '2018.03.12' AND ROUTE_DEPART_REGION = '도쿄, 일본 (HND-하네다 공항)' 
AND ROUTE_ARRIVE_REGION = '서울, 한국 (ICN-인천국제공항)' AND AIRLINE_NAME = '대한항공'

SELECT B.* FROM
(SELECT ROWNUM AS RM, A.* FROM(
SELECT ROUTE_CODE, AIRLINE_NAME, DEPART_TIME, ARRIVE_TIME, ROUTE_ESTIMATE_TIME, ROUTE_TYPE, ROUTE_CHARGE, PLANE_CODE, ROUTE_DEPART_REGION, ROUTE_ARRIVE_REGION FROM ROUTE 
WHERE ROUTE_DEPART_DAY = '2018.03.05' AND ROUTE_DEPART_REGION = '서울, 한국 (ICN-인천국제공항)' AND ROUTE_ARRIVE_REGION = '도쿄, 일본 (HND-하네다 공항)' 
AND AIRLINE_NAME = '대한항공'
ORDER BY ROUTE_CODE ASC)A)B
WHERE B.RM >= 1 AND B.RM <= 5
--------------------------------------------------------------------------------------------------------------------------------------------------		


------------------------------------------------------------------------------------------------------------------------------------------------
--노선 데이터 삽입--

--서울, 한국 (ICN-인천국제공항) -> 도쿄, 일본 (HND-하네다 공항)
--가는날 예시(2018.03.05)22개 ~ 오는날 예시(2018.03.12)22개

--가는날 예시(2018.03.05)-------------------------------
INSERT INTO ROUTE VALUES(
1,
ROUTE_SEQ_NUM.NEXTVAL,
1,
'대한항공',
'대한민국',
'HTTPS://KR.KOREANAIR.COM',
'2018.03.05',
'서울, 한국 (ICN-인천국제공항)',
'도쿄, 일본 (HND-하네다 공항)',
'2018-03-05 / 09:10',
'2018-03-05 / 11:10',
840000,
SYSDATE,
'2H',
'직항',
'1,220KM'
);

INSERT INTO ROUTE VALUES(
1,
ROUTE_SEQ_NUM.NEXTVAL,
2,
'대한항공',
'대한민국',
'HTTPS://KR.KOREANAIR.COM',
'2018.03.05',
'서울, 한국 (ICN-인천국제공항)',
'도쿄, 일본 (HND-하네다 공항)',
'2018-03-05 / 12:10',
'2018-03-05 / 14:10',
830000,
SYSDATE,
'2H',
'직항',
'1,220KM'
);

INSERT INTO ROUTE VALUES(
1,
ROUTE_SEQ_NUM.NEXTVAL,
3,
'아시아나항공',
'대한민국',
'HTTP://FLYASIANA.COM',
'2018.03.05',
'서울, 한국 (ICN-인천국제공항)',
'도쿄, 일본 (HND-하네다 공항)',
'2018-03-05 / 07:10',
'2018-03-05 / 09:30',
940000,
SYSDATE,
'2H 20M',
'직항',
'1,220KM'
);

INSERT INTO ROUTE VALUES(
1,
ROUTE_SEQ_NUM.NEXTVAL,
4,
'아시아나항공',
'대한민국',
'HTTP://FLYASIANA.COM',
'2018.03.05',
'서울, 한국 (ICN-인천국제공항)',
'도쿄, 일본 (HND-하네다 공항)',
'2018-03-05 / 06:10',
'2018-03-05 / 09:50',
930000,
SYSDATE,
'3H 40M',
'경유',
'1,220KM'
);

INSERT INTO ROUTE VALUES(
1,
ROUTE_SEQ_NUM.NEXTVAL,
5,
'JAL일본항공',
'대한민국',
'HTTP://WWW.KR.JAL.CO.JP/KRL/KO/',
'2018.03.05',
'서울, 한국 (ICN-인천국제공항)',
'도쿄, 일본 (HND-하네다 공항)',
'2018-03-05 / 09:10',
'2018-03-05 / 11:05',
2210000,
SYSDATE,
'1H 55M',
'직항',
'1,220KM'
);

INSERT INTO ROUTE VALUES(
1,
ROUTE_SEQ_NUM.NEXTVAL,
6,
'JAL일본항공',
'대한민국',
'HTTP://WWW.KR.JAL.CO.JP/KRL/KO/',
'2018.03.05',
'서울, 한국 (ICN-인천국제공항)',
'도쿄, 일본 (HND-하네다 공항)',
'2018-03-05 / 12:00',
'2018-03-05 / 01:55',
2240000,
SYSDATE,
'1H 55M',
'직항',
'1,220KM'
);

INSERT INTO ROUTE VALUES(
2,
ROUTE_SEQ_NUM.NEXTVAL,
7,
'중국동방항공',
'중국',
'HTTP://WWW.EASTERNAIR.CO.KR/',
'2018.03.05',
'서울, 한국 (ICN-인천국제공항)',
'도쿄, 일본 (HND-하네다 공항)',
'2018-03-05 / 09:10',
'2018-03-05 / 12:40',
140000,
SYSDATE,
'3H 30M',
'경유',
'1,220KM'
);

INSERT INTO ROUTE VALUES(
1,
ROUTE_SEQ_NUM.NEXTVAL,
8,
'중국동방항공',
'중국',
'HTTP://WWW.EASTERNAIR.CO.KR/',
'2018.03.05',
'서울, 한국 (ICN-인천국제공항)',
'도쿄, 일본 (HND-하네다 공항)',
'2018-03-05 / 12:10',
'2018-03-05 / 14:50',
130000,
SYSDATE,
'2H 40M',
'직항',
'1,220KM'
);

INSERT INTO ROUTE VALUES(
1,
ROUTE_SEQ_NUM.NEXTVAL,
9,
'ANA항공',
'대한민국',
'HTTP://WWW.ANA.CO.JP/ASW/WWS/KR/K/',
'2018.03.05',
'서울, 한국 (ICN-인천국제공항)',
'도쿄, 일본 (HND-하네다 공항)',
'2018-03-05 / 18:10',
'2018-03-05 / 20:45',
1240000,
SYSDATE,
'2H 35M',
'직항',
'1,220KM'
);

INSERT INTO ROUTE VALUES(
1,
ROUTE_SEQ_NUM.NEXTVAL,
10,
'ANA항공',
'대한민국',
'HTTP://WWW.ANA.CO.JP/ASW/WWS/KR/K/',
'2018.03.05',
'서울, 한국 (ICN-인천국제공항)',
'도쿄, 일본 (HND-하네다 공항)',
'2018-03-05 / 20:10',
'2018-03-05 / 22:45',
1230000,
SYSDATE,
'2H 35M',
'직항',
'1,220KM'
);

INSERT INTO ROUTE VALUES(
1,
ROUTE_SEQ_NUM.NEXTVAL,
11,
'진에어항공',
'대한민국',
'HTTP://WWW.JINAIR.COM',
'2018.03.05',
'서울, 한국 (ICN-인천국제공항)',
'도쿄, 일본 (HND-하네다 공항)',
'2018-03-05 / 09:10',
'2018-03-05 / 11:30',
140000,
SYSDATE,
'2H 20M',
'직항',
'1,220KM'
);

INSERT INTO ROUTE VALUES(
1,
ROUTE_SEQ_NUM.NEXTVAL,
12,
'진에어항공',
'대한민국',
'HTTP://WWW.JINAIR.COM',
'2018.03.05',
'서울, 한국 (ICN-인천국제공항)',
'도쿄, 일본 (HND-하네다 공항)',
'2018-03-05 / 16:10',
'2018-03-05 / 18:30',
140000,
SYSDATE,
'2H 20M',
'직항',
'1,220KM'
);

INSERT INTO ROUTE VALUES(
1,
ROUTE_SEQ_NUM.NEXTVAL,
13,
'티웨이항공',
'대한민국',
'HTTP://WWW.FLYPEACH.COM',
'2018.03.05',
'서울, 한국 (ICN-인천국제공항)',
'도쿄, 일본 (HND-하네다 공항)',
'2018-03-05 / 07:10',
'2018-03-05 / 09:10',
740000,
SYSDATE,
'2H',
'직항',
'1,220KM'
);

INSERT INTO ROUTE VALUES(
1,
ROUTE_SEQ_NUM.NEXTVAL,
14,
'티웨이항공',
'대한민국',
'HTTP://WWW.FLYPEACH.COM',
'2018.03.05',
'서울, 한국 (ICN-인천국제공항)',
'도쿄, 일본 (HND-하네다 공항)',
'2018-03-05 / 15:10',
'2018-03-05 / 17:10',
750000,
SYSDATE,
'2H',
'직항',
'1,220KM'
);

INSERT INTO ROUTE VALUES(
1,
ROUTE_SEQ_NUM.NEXTVAL,
15,
'이스타항공',
'대한민국',
'HTTPS://WWW.EASTARJET.COM',
'2018.03.05',
'서울, 한국 (ICN-인천국제공항)',
'도쿄, 일본 (HND-하네다 공항)',
'2018-03-05 / 09:10',
'2018-03-05 / 11:30',
540000,
SYSDATE,
'2H 20M',
'직항',
'1,220KM'
);

INSERT INTO ROUTE VALUES(
1,
ROUTE_SEQ_NUM.NEXTVAL,
16,
'이스타항공',
'대한민국',
'HTTPS://WWW.EASTARJET.COM',
'2018.03.05',
'서울, 한국 (ICN-인천국제공항)',
'도쿄, 일본 (HND-하네다 공항)',
'2018-03-05 / 09:30',
'2018-03-05 / 11:50',
550000,
SYSDATE,
'2H 20M',
'직항',
'1,220KM'
);

INSERT INTO ROUTE VALUES(
1,
ROUTE_SEQ_NUM.NEXTVAL,
17,
'에바항공',
'대만',
'HTTPS://WWW.EVAAIR.COM/',
'2018.03.05',
'서울, 한국 (ICN-인천국제공항)',
'도쿄, 일본 (HND-하네다 공항)',
'2018-03-05 / 07:30',
'2018-03-05 / 09:50',
350000,
SYSDATE,
'2H 20M',
'직항',
'1,220KM'
);

INSERT INTO ROUTE VALUES(
1,
ROUTE_SEQ_NUM.NEXTVAL,
18,
'에바항공',
'대만',
'HTTPS://WWW.EVAAIR.COM/',
'2018.03.05',
'서울, 한국 (ICN-인천국제공항)',
'도쿄, 일본 (HND-하네다 공항)',
'2018-03-05 / 18:30',
'2018-03-05 / 20:50',
360000,
SYSDATE,
'2H 20M',
'직항',
'1,220KM'
);

INSERT INTO ROUTE VALUES(
1,
ROUTE_SEQ_NUM.NEXTVAL,
19,
'타이항공',
'태국',
'HTTPS://WWW.THAIAIRWAYS.COM/',
'2018.03.05',
'서울, 한국 (ICN-인천국제공항)',
'도쿄, 일본 (HND-하네다 공항)',
'2018-03-05 / 22:30',
'2018-03-05 / 00:40',
450000,
SYSDATE,
'2H 10M',
'직항',
'1,220KM'
);

INSERT INTO ROUTE VALUES(
1,
ROUTE_SEQ_NUM.NEXTVAL,
20,
'타이항공',
'태국',
'HTTPS://WWW.THAIAIRWAYS.COM/',
'2018.03.05',
'서울, 한국 (ICN-인천국제공항)',
'도쿄, 일본 (HND-하네다 공항)',
'2018-03-05 / 13:30',
'2018-03-05 / 15:55',
440000,
SYSDATE,
'2H 25M',
'직항',
'1,220KM'
);

INSERT INTO ROUTE VALUES(
1,
ROUTE_SEQ_NUM.NEXTVAL,
21,
'알래스카항공',
'미국',
'HTTPS://WWW.ALASKAAIR.COM/',
'2018.03.05',
'서울, 한국 (ICN-인천국제공항)',
'도쿄, 일본 (HND-하네다 공항)',
'2018-03-05 / 16:30',
'2018-03-05 / 18:32',
650000,
SYSDATE,
'2H 02M',
'직항',
'1,220KM'
);

INSERT INTO ROUTE VALUES(
1,
ROUTE_SEQ_NUM.NEXTVAL,
22,
'알래스카항공',
'미국',
'HTTPS://WWW.ALASKAAIR.COM/',
'2018.03.05',
'서울, 한국 (ICN-인천국제공항)',
'도쿄, 일본 (HND-하네다 공항)',
'2018-03-05 / 09:30',
'2018-03-05 / 11:32',
640000,
SYSDATE,
'2H 02M',
'직항',
'1,220KM'
);

-----------------------------------------------------
--오는날 예시(2018.03.12)-------------------------------
INSERT INTO ROUTE VALUES(
1,
ROUTE_SEQ_NUM.NEXTVAL,
23,
'대한항공',
'대한민국',
'HTTPS://KR.KOREANAIR.COM',
'2018.03.12',
'도쿄, 일본 (HND-하네다 공항)',
'서울, 한국 (ICN-인천국제공항)',
'2018-03-12 / 09:10',
'2018-03-12 / 11:10',
840000,
SYSDATE,
'2H',
'직항',
'1,220KM'
);

INSERT INTO ROUTE VALUES(
1,
ROUTE_SEQ_NUM.NEXTVAL,
24,
'대한항공',
'대한민국',
'HTTPS://KR.KOREANAIR.COM',
'2018.03.12',
'도쿄, 일본 (HND-하네다 공항)',
'서울, 한국 (ICN-인천국제공항)',
'2018-03-12 / 12:10',
'2018-03-12 / 14:10',
830000,
SYSDATE,
'2H',
'직항',
'1,220KM'
);

INSERT INTO ROUTE VALUES(
1,
ROUTE_SEQ_NUM.NEXTVAL,
25,
'아시아나항공',
'대한민국',
'HTTP://FLYASIANA.COM',
'2018.03.12',
'도쿄, 일본 (HND-하네다 공항)',
'서울, 한국 (ICN-인천국제공항)',
'2018-03-12 / 07:10',
'2018-03-12 / 09:30',
940000,
SYSDATE,
'2H 20M',
'직항',
'1,220KM'
);

INSERT INTO ROUTE VALUES(
1,
ROUTE_SEQ_NUM.NEXTVAL,
26,
'아시아나항공',
'대한민국',
'HTTP://FLYASIANA.COM',
'2018.03.12',
'도쿄, 일본 (HND-하네다 공항)',
'서울, 한국 (ICN-인천국제공항)',
'2018-03-12 / 06:10',
'2018-03-12 / 08:30',
930000,
SYSDATE,
'2H 20M',
'직항',
'1,220KM'
);


INSERT INTO ROUTE VALUES(
1,
ROUTE_SEQ_NUM.NEXTVAL,
27,
'JAL일본항공',
'대한민국',
'HTTP://WWW.KR.JAL.CO.JP/KRL/KO/',
'2018.03.12',
'도쿄, 일본 (HND-하네다 공항)',
'서울, 한국 (ICN-인천국제공항)',
'2018-03-12  / 09:10',
'2018-03-12 / 11:05',
2210000,
SYSDATE,
'1H 55M',
'직항',
'1,220KM'
);

INSERT INTO ROUTE VALUES(
1,
ROUTE_SEQ_NUM.NEXTVAL,
28,
'JAL일본항공',
'대한민국',
'HTTP://WWW.KR.JAL.CO.JP/KRL/KO/',
'2018.03.12',
'도쿄, 일본 (HND-하네다 공항)',
'서울, 한국 (ICN-인천국제공항)',
'2018-03-12  / 12:00',
'2018-03-12 / 01:55',
2240000,
SYSDATE,
'1H 55M',
'직항',
'1,220KM'
);

INSERT INTO ROUTE VALUES(
1,
ROUTE_SEQ_NUM.NEXTVAL,
29,
'중국동방항공',
'중국',
'HTTP://WWW.EASTERNAIR.CO.KR/',
'2018.03.12',
'도쿄, 일본 (HND-하네다 공항)',
'서울, 한국 (ICN-인천국제공항)',
'2018-03-12 / 09:10',
'2018-03-12 / 11:50',
140000,
SYSDATE,
'2H 40M',
'직항',
'1,220KM'
);

INSERT INTO ROUTE VALUES(
1,
ROUTE_SEQ_NUM.NEXTVAL,
30,
'중국동방항공',
'중국',
'HTTP://WWW.EASTERNAIR.CO.KR/',
'2018.03.12',
'도쿄, 일본 (HND-하네다 공항)',
'서울, 한국 (ICN-인천국제공항)',
'2018-03-12 / 12:10',
'2018-03-12 / 14:50',
130000,
SYSDATE,
'2H 40M',
'직항',
'1,220KM'
);

INSERT INTO ROUTE VALUES(
1,
ROUTE_SEQ_NUM.NEXTVAL,
31,
'ANA항공',
'대한민국',
'HTTP://WWW.ANA.CO.JP/ASW/WWS/KR/K/',
'2018.03.12',
'도쿄, 일본 (HND-하네다 공항)',
'서울, 한국 (ICN-인천국제공항)',
'2018-03-12 / 18:10',
'2018-03-12 / 20:45',
1240000,
SYSDATE,
'2H 35M',
'직항',
'1,220KM'
);

INSERT INTO ROUTE VALUES(
1,
ROUTE_SEQ_NUM.NEXTVAL,
32,
'ANA항공',
'대한민국',
'HTTP://WWW.ANA.CO.JP/ASW/WWS/KR/K/',
'2018.03.12',
'도쿄, 일본 (HND-하네다 공항)',
'서울, 한국 (ICN-인천국제공항)',
'2018-03-12 / 20:10',
'2018-03-12 / 22:45',
1230000,
SYSDATE,
'2H 35M',
'직항',
'1,220KM'
);

INSERT INTO ROUTE VALUES(
1,
ROUTE_SEQ_NUM.NEXTVAL,
33,
'진에어항공',
'대한민국',
'HTTP://WWW.JINAIR.COM',
'2018.03.12',
'도쿄, 일본 (HND-하네다 공항)',
'서울, 한국 (ICN-인천국제공항)',
'2018-03-12 / 09:10',
'2018-03-12 / 11:30',
140000,
SYSDATE,
'2H 20M',
'직항',
'1,220KM'
);

INSERT INTO ROUTE VALUES(
1,
ROUTE_SEQ_NUM.NEXTVAL,
34,
'진에어항공',
'대한민국',
'HTTP://WWW.JINAIR.COM',
'2018.03.12',
'도쿄, 일본 (HND-하네다 공항)',
'서울, 한국 (ICN-인천국제공항)',
'2018-03-12 / 16:10',
'2018-03-12 / 18:30',
140000,
SYSDATE,
'2H 20M',
'직항',
'1,220KM'
);

INSERT INTO ROUTE VALUES(
1,
ROUTE_SEQ_NUM.NEXTVAL,
35,
'티웨이항공',
'대한민국',
'HTTP://WWW.FLYPEACH.COM',
'2018.03.12',
'도쿄, 일본 (HND-하네다 공항)',
'서울, 한국 (ICN-인천국제공항)',
'2018-03-12 / 07:10',
'2018-03-12 / 09:10',
740000,
SYSDATE,
'2H',
'직항',
'1,220KM'
);

INSERT INTO ROUTE VALUES(
1,
ROUTE_SEQ_NUM.NEXTVAL,
36,
'티웨이항공',
'대한민국',
'HTTP://WWW.FLYPEACH.COM',
'2018.03.12',
'도쿄, 일본 (HND-하네다 공항)',
'서울, 한국 (ICN-인천국제공항)',
'2018-03-12 / 15:10',
'2018-03-12 / 17:10',
750000,
SYSDATE,
'2H',
'직항',
'1,220KM'
);

INSERT INTO ROUTE VALUES(
1,
ROUTE_SEQ_NUM.NEXTVAL,
37,
'이스타항공',
'대한민국',
'HTTPS://WWW.EASTARJET.COM',
'2018.03.12',
'도쿄, 일본 (HND-하네다 공항)',
'서울, 한국 (ICN-인천국제공항)',
'2018-03-12 / 09:10',
'2018-03-12 / 11:30',
540000,
SYSDATE,
'2H 20M',
'직항',
'1,220KM'
);

INSERT INTO ROUTE VALUES(
1,
ROUTE_SEQ_NUM.NEXTVAL,
38,
'이스타항공',
'대한민국',
'HTTPS://WWW.EASTARJET.COM',
'2018.03.12',
'도쿄, 일본 (HND-하네다 공항)',
'서울, 한국 (ICN-인천국제공항)',
'2018-03-12 / 09:30',
'2018-03-12 / 11:50',
550000,
SYSDATE,
'2H 20M',
'직항',
'1,220KM'
);

INSERT INTO ROUTE VALUES(
1,
ROUTE_SEQ_NUM.NEXTVAL,
39,
'에바항공',
'대만',
'HTTPS://WWW.EVAAIR.COM/',
'2018.03.12',
'도쿄, 일본 (HND-하네다 공항)',
'서울, 한국 (ICN-인천국제공항)',
'2018-03-12 / 07:30',
'2018-03-12 / 09:50',
370000,
SYSDATE,
'2H 20M',
'직항',
'1,220KM'
);

INSERT INTO ROUTE VALUES(
1,
ROUTE_SEQ_NUM.NEXTVAL,
40,
'에바항공',
'대만',
'HTTPS://WWW.EVAAIR.COM/',
'2018.03.12',
'도쿄, 일본 (HND-하네다 공항)',
'서울, 한국 (ICN-인천국제공항)',
'2018-03-12 / 18:30',
'2018-03-12 / 20:50',
360000,
SYSDATE,
'2H 20M',
'직항',
'1,220KM'
);

INSERT INTO ROUTE VALUES(
1,
ROUTE_SEQ_NUM.NEXTVAL,
41,
'타이항공',
'태국',
'HTTPS://WWW.THAIAIRWAYS.COM/',
'2018.03.12',
'도쿄, 일본 (HND-하네다 공항)',
'서울, 한국 (ICN-인천국제공항)',
'2018-03-12 / 22:30',
'2018-03-12 / 00:40',
450000,
SYSDATE,
'2H 10M',
'직항',
'1,220KM'
);

INSERT INTO ROUTE VALUES(
1,
ROUTE_SEQ_NUM.NEXTVAL,
42,
'타이항공',
'태국',
'HTTPS://WWW.THAIAIRWAYS.COM/',
'2018.03.12',
'도쿄, 일본 (HND-하네다 공항)',
'서울, 한국 (ICN-인천국제공항)',
'2018-03-12 / 13:30',
'2018-03-12 / 15:55',
440000,
SYSDATE,
'2H 25M',
'직항',
'1,220KM'
);

INSERT INTO ROUTE VALUES(
1,
ROUTE_SEQ_NUM.NEXTVAL,
43,
'알래스카항공',
'미국',
'HTTPS://WWW.ALASKAAIR.COM/',
'2018.03.12',
'도쿄, 일본 (HND-하네다 공항)',
'서울, 한국 (ICN-인천국제공항)',
'2018-03-12 / 16:30',
'2018-03-12 / 18:32',
650000,
SYSDATE,
'2H 02M',
'직항',
'1,220KM'
);

INSERT INTO ROUTE VALUES(
1,
ROUTE_SEQ_NUM.NEXTVAL,
44,
'알래스카항공',
'미국',
'HTTPS://WWW.ALASKAAIR.COM/',
'2018.03.12',
'도쿄, 일본 (HND-하네다 공항)',
'서울, 한국 (ICN-인천국제공항)',
'2018-03-12 / 09:30',
'2018-03-12 / 11:32',
640000,
SYSDATE,
'2H 02M',
'직항',
'1,220KM'
);

----------------------------------------------------------------------------------------------------------------------------------------------
--예약

--편도일때 항공기 코드 1개 들어감
--편도(경유)일때 항공기 코드 2개 들어감

--왕복일때 항공기 코드 2개 들어감
--왕복(경유)일때 항공기 코드 3개 들어감
   
CREATE TABLE RESERVE( 
   RESERVE_CODE NUMBER NOT NULL, --예약코드(PK)
   TICKET_TYPE NUMBER,	--(왕복,편도)구분여부
   MEMBER_ID VARCHAR2(200), --회원번호(FK) : 회원번호로 하지않고 세션영역에 저장해놓은 회원아이디로 할 것. 회원아이디에 한하여 예약내역 취소내역을 확인할 수 있다. 
   RESERVE_DEPART_DAY VARCHAR2(200), --출발일
   RESERVE_JOURNEY VARCHAR2(200), --여정
   RESERVE_STATE VARCHAR2(200), --결제상태(실시간적 상태를 알려줌)
   RESERVE_TOTAL_PRICE NUMBER(10), --결제요금(총 결제 금액) -> 다음 JSP로 넘겨줌
   RESERVE_PAYMETHOD VARCHAR2(200), --결제방법(항상 카카오페이로 등록) -> 다음 JSP로 넘겨줌
   RESERVE_DATE DATE, --결제날짜(결제한 날짜) ->다음 JSP로 넘겨줌
   CONSTRAINT RESERVE_CODE_PK PRIMARY KEY(RESERVE_CODE)
);

CREATE SEQUENCE RESERVE_NUM_SEQ
START WITH 1
INCREMENT BY 1
NOCACHE
NOCYCLE;

SELECT * FROM RESERVE;

DELETE FROM RESERVE
DROP TABLE RESERVE;
DROP SEQUENCE RESERVE_NUM_SEQ;

-------------TEST------------------------------------------------------------------------------------------------------------------------------
INSERT INTO RESERVE VALUES(RESERVE_NUM_SEQ.NEXTVAL, 1,'SITDITRD', '2018.03.05 / 08:00', '서울, 인천공항(ICN) -> 일본 하네다공항(HCN)', '예약완료', 300000,'카카오페이', SYSDATE);
INSERT INTO RESERVE VALUES(RESERVE_NUM_SEQ.NEXTVAL, 1,'SITDITRD', '2018.03.05 / 08:00', '서울, 인천공항(ICN) -> 일본 하네다공항(HCN)', '예약완료', 300000,'카카오페이', SYSDATE);
INSERT INTO RESERVE VALUES(RESERVE_NUM_SEQ.NEXTVAL, 1,'SITDITRD', '2018.03.05 / 08:00', '서울, 인천공항(ICN) -> 일본 하네다공항(HCN)', '예약완료', 300000,'카카오페이', SYSDATE);
INSERT INTO RESERVE VALUES(RESERVE_NUM_SEQ.NEXTVAL, 1,'SITDITRD', '2018.03.05 / 08:00', '서울, 인천공항(ICN) -> 일본 하네다공항(HCN)', '예약완료', 300000,'카카오페이', SYSDATE);
INSERT INTO RESERVE VALUES(RESERVE_NUM_SEQ.NEXTVAL, 1,'SITDITRD', '2018.03.05 / 08:00', '서울, 인천공항(ICN) -> 일본 하네다공항(HCN)', '예약완료', 300000,'카카오페이', SYSDATE);
INSERT INTO RESERVE VALUES(RESERVE_NUM_SEQ.NEXTVAL, 1,'SITDITRD', '2018.03.05 / 08:00', '서울, 인천공항(ICN) -> 일본 하네다공항(HCN)', '예약완료', 300000,'카카오페이', SYSDATE);
INSERT INTO RESERVE VALUES(RESERVE_NUM_SEQ.NEXTVAL, 1,'SITDITRD', '2018.03.05 / 08:00', '서울, 인천공항(ICN) -> 일본 하네다공항(HCN)', '예약완료', 300000,'카카오페이', SYSDATE);
-------------TEST------------------------------------------------------------------------------------------------------------------------------
SELECT COUNT(*) 
FROM RESERVE
WHERE MEMBER_ID = 'SITDITRD'
		
SELECT RESERVE_CODE, TICKET_TYPE, RO.DEPART_TIME, RO.ROUTE_DEPART_REGION, RO.ROUTE_ARRIVE_REGION, RESERVE_TOTAL_SEAT
FROM RESERVE RE, ROUTE RO
WHERE MEMBER_ID = 'SITDITRD'
AND RE.ROUTE_CODE = RO.ROUTE_CODE
ORDER BY RESERVE_CODE DESC
		
SELECT B.* FROM
(SELECT ROWNUM AS RM, A.* FROM(
SELECT * FROM BOARD 
ORDER BY REF DESC, RE_STEP ASC)A)B
WHERE B.RM >= 1 AND B.RM <= 3
		
SELECT B.* FROM
(SELECT ROWNUM AS RM, A.* FROM(
SELECT RESERVE_CODE, TICKET_TYPE, RO.DEPART_TIME, RO.ROUTE_DEPART_REGION, RO.ROUTE_ARRIVE_REGION, RESERVE_TOTAL_SEAT
FROM RESERVE RE, ROUTE RO
WHERE MEMBER_ID = 'SITDITRD'
AND RE.ROUTE_CODE = RO.ROUTE_CODE
ORDER BY RESERVE_CODE DESC)A)B
WHERE B.RM >= 1 AND B.RM <= 3

----------------------------------------------------------------------------------------------------------------------------------------------
--예약상세(탑승자 정보)
CREATE TABLE RESERVE_DETAIL(
	RESERVE_DETAIL_CODE NUMBER, 
	PASSNAME VARCHAR2(100), --탑승자 이름
	PASSGENDER VARCHAR2(100), --탑승자 성별
	PASSBIRTH VARCHAR2(100), --탑승자 생년월일
	PASSNUMBER VARCHAR2(100), --탑승자 여권번호
	PASSCOUNTRY VARCHAR2(100), --탑승자 여권발행국가
    CONSTRAINT RESERVE_DETAIL_CODE_FK FOREIGN KEY(RESERVE_DETAIL_CODE) REFERENCES RESERVE(RESERVE_CODE) ON DELETE CASCADE
);

SELECT * FROM RESERVE_DETAIL
DROP TABLE RESERVE_DETAIL
------------------TEST------------------------------------------------------------------------------------------------------------------------
INSERT INTO RESERVE_DETAIL VALUES(1, '안주환','MALE','1999-09-09','M1234','대한민국');
INSERT INTO RESERVE_DETAIL VALUES(1, '안주환','MALE','1988-08-08','M4321','대한민국');
INSERT INTO RESERVE_DETAIL VALUES(2, '안주환','MALE','1999-09-09','M1234','대한민국');
INSERT INTO RESERVE_DETAIL VALUES(2, '안주환','MALE','1988-08-08','M4321','대한민국');
INSERT INTO RESERVE_DETAIL VALUES(3, '안주환','MALE','1988-08-08','M4321','대한민국');
INSERT INTO RESERVE_DETAIL VALUES(4, '안주환','MALE','1988-08-08','M4321','대한민국');
INSERT INTO RESERVE_DETAIL VALUES(5, '안주환','MALE','1988-08-08','M4321','대한민국');
INSERT INTO RESERVE_DETAIL VALUES(6, '안주환','MALE','1988-08-08','M4321','대한민국');
INSERT INTO RESERVE_DETAIL VALUES(7, '안주환','MALE','1988-08-08','M4321','대한민국');

------------------TEST------------------------------------------------------------------------------------------------------------------------
SELECT * FROM RESERVE_DETAIL WHERE RESERVE_CODE = 1

SELECT RESERVE_CODE, PASSNAME, PASSGENDER, PASSBIRTH, PASSNUMBER, PASSCOUNTRY FROM RESERVE_DETAIL WHERE RESERVE_CODE = 1
----------------------------------------------------------------------------------------------------------------------------------------------
--예약상세(항공티켓정보)
CREATE TABLE RESERVE_DETAIL2(
	RESERVE_DETAIL2_CODE NUMBER,
	DETAIL_DEPART_REGION VARCHAR2(200), --출발지
	DETAIL_ARRIVE_REGION VARCHAR2(200), --도착지
	DETAIL_DEPART_DAY VARCHAR2(200), --출발일
	DETAIL_ARRIVE_DAY VARCHAR2(200), --도착일
	DETAIL_AIRLINE_NAME VARCHAR2(200), --항공사
	DETAIL_AIRPLANE_MODEL VARCHAR2(200), --항공기종
	DETAIL_FLIGHT_NAME VARCHAR2(200), --항공편명
	DETAIL_SEAT_GRADE VARCHAR2(200), --좌석등급
	DETAIL_SEAT_TOTAL NUMBER(10), --좌석수
	DETAIL_STOPOVER_TYPE VARCHAR2(200), --경유구분(경유구분에 따라서 TD셀의 BACKGROUND색을 변경함)
	CONSTRAINT RESERVE_DETAIL2_CODE_FK FOREIGN KEY(RESERVE_DETAIL2_CODE) REFERENCES RESERVE(RESERVE_CODE) ON DELETE CASCADE
);

SELECT * FROM RESERVE_DETAIL2
DROP TABLE RESERVE_DETAIL2
----------------------------------------------------------------------------------------------------------------------------------------------
--환불
CREATE TABLE CANCEL(
   CANCEL_CODE NUMBER,	--환불코드 (PK)
   MEMBER_ID VARCHAR2(200),	--환불하는사람아이디
   RESERVE_CODE	NUMBER,	--예약코드
   CANCEL_DAY DATE,		--취소날짜
   CANCEL_REASON VARCHAR2(600),		--사유
   CONSTRAINT CANCEL_CODE_PK PRIMARY KEY(CANCEL_CODE)
);

CREATE SEQUENCE CANCEL_NUM_SEQ
START WITH 1
INCREMENT BY 1
NOCACHE
NOCYCLE;

SELECT * FROM CANCEL
DROP SEQUENCE CANCEL_NUM_SEQ;

----------------------------------------------------------------------------------------------------------------------------------------------
--DROP 테이블
DROP TABLE CUSTOMER CASCADE CONSTRAINTS;
DROP TABLE RESERVE CASCADE CONSTRAINTS;
DROP TABLE RESERVE_DETAIL CASCADE CONSTRAINTS;
DROP TABLE CANCEL CASCADE CONSTRAINTS;
DROP TABLE CANCEL_DETAIL CASCADE CONSTRAINTS;
DROP TABLE CLASSIFICATION CASCADE CONSTRAINTS;
DROP TABLE BOARD CASCADE CONSTRAINTS;
DROP TABLE ADMIN CASCADE CONSTRAINTS;
DROP TABLE NOTICE CASCADE CONSTRAINTS;
DROP TABLE CLASSIFY CASCADE CONSTRAINTS;
DROP TABLE ROUTE CASCADE CONSTRAINTS;
DROP TABLE STOPOVER CASCADE CONSTRAINTS;
DROP TABLE PLANE CASCADE CONSTRAINTS;
DROP TABLE PLANE_MODEL CASCADE CONSTRAINTS;
DROP TABLE SEATGRADE CASCADE CONSTRAINTS;
DROP TABLE SEATCODE CASCADE CONSTRAINTS;

--DROP SEQUENCE 
DROP SEQUENCE CUSTOMER_SEQ;
DROP SEQUENCE RESERVE_NUM_SEQ;
DROP SEQUENCE CANCEL_NUM_SEQ;
DROP SEQUENCE BOARD_SEQ;
DROP SEQUENCE NOTICE_NUM_SEQ;
DROP SEQUENCE ROUTE_SEQ_NUM;
