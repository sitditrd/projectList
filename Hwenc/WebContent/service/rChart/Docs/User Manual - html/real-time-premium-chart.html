<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=9" />
	<title>알메이트-차트 사용 설명서: 실시간 프리미엄 차트</title>
	<link href="navtree.css" rel="stylesheet" type="text/css" />
	<link href="stylesheet.css" rel="stylesheet" type="text/css" />
	<script type="text/javascript" src="./js/jquery.js"></script>
	<script type="text/javascript" src="./js/dynsections.js"></script>
	<script type="text/javascript" src="./js/resize.js"></script>
	<script type="text/javascript" src="./js/navtree.js"></script>
	<script type="text/javascript" src="./js/ei.js"></script>
	<script type="text/javascript">
		resizeHeight = function() {
			var headerHeight = header.height();
			var footerHeight = footer.height();
			var windowHeight = $(window).height() - headerHeight - footerHeight;
			navtree.css({height:windowHeight + "px"});
			sidenav.css({height:windowHeight + "px",top: headerHeight+"px"});
		}
		$(document).ready(initResizable);
	</script>
</head>

<body>
	<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
		<div id="titlearea">
			<table cellspacing="0" cellpadding="0">
 				<tbody>
 					<tr style="height: 56px;">
  						<td style="padding-left: 0.5em;">
   							<div id="projectname">알메이트-차트 6.0 사용 설명서</div>
  						</td>
 					</tr>
 				</tbody>
			</table>
		</div>
	</div><!-- top -->

	<div id="side-nav" class="ui-resizable side-nav-resizable">
		<div id="nav-tree">
			<div id="nav-tree-contents">
				<div id="nav-sync" class="sync" style="display: none"></div>
			</div>
		</div>
		<div id="splitbar" style="-moz-user-select:none;" class="ui-resizable-handle">
		</div>
	</div>
<script type="text/javascript">
	$(document).ready(function(){initNavTree('real-time-premium-chart.html','');});
</script>
<div id="doc-content">
	<div class="header">
		<div class="headertitle">
			<div class="title" id="차트종류">차트 종류</div>
		</div>
	</div> <!--header-->

	<div class="contents">
		<div class="textblock">
			<div class="toc">
				<h3>목차</h3>
				<ul>
					<li class="level1"><a href="#차트종류">차트 종류</a>
						<li class="level2"><a href="#실시간프리미엄차트">실시간 프리미엄 차트</a></li>
					</li>
				</ul>
			</div>

			<h2><a class="anchor" id="실시간프리미엄차트"></a>실시간 프리미엄 차트</h2>
			<p>실시간 프리미엄 차트는 <a href="real-time-chart.html">실시간 차트</a>의 기능보다 향상된 기능을 제공합니다.
				데이터 로드를 위해서 <a href="real-time-chart.html">실시간 차트</a>처럼 원격 호출(RPC, Remote Procedure Call) 방식을 이용하지만 다음과 같은 다른 특징들이 있습니다.</p>

			<ul>
				<li>차트에 표현되는 데이터 시리즈별로 원격 호출을 설정할 수 있습니다. 예를 들어 차트에 표현되는 데이터 시리즈가 3 개라고 할 때, 각 데이터 시리즈를 위한 3 개의 다른 URL 과 주기를 지정할 수 있습니다.</li>
				<li>실시간 차트에서는 새로운 데이터가 읽혀지면 차트의 오른쪽 끝에 표현되어 시간이 갈 수록 왼쪽으로 이동하지만, 실시간 프리미엄 차트에서는 왼쪽 끝에 첫 데이터가 표현되고 새로운 데이터들은 점점 오른쪽에 표현됩니다. 그리고 설정된 시간 범위 동안 화면에 존재하게 됩니다. 각 데이터 시리즈별로 주기와 표시되는 시간 범위를 다르게 설정할 수 있습니다.</li>
				<li>초기 데이터를 차트에 표현해야 할 경우, 차트의 로딩이 완료된 시점에 초기 데이터를 읽어서 표시할 수 있습니다.</li>
				<li>실시간 프리미엄 차트의 X 축에는 <a href="../api/DateTimeAxis.html" target="_blank">&lt;DateTimeAxis&gt;</a> 노드만 정의할 수 있습니다. 실시간 차트에서 사용 가능한 <a href="../api/CategoryAxis.html" target="_blank">&lt;CategoryAxis&gt;</a> 노드는 실시간 프리미엄 차트에서 지원되지 않습니다.</li>
			</ul>

			<p>실시간 프리미엄 차트는 <a href="../api/HttpMultiServiceRepeater.html" target="_blank">&lt;HttpMultiServiceRepeater&gt;</a> 노드를 chart 노드와 동일한 레벨(형제 노드)에 정의하여 생성할 수 있습니다.
				이 때 실시간 차트에서와 같이 <a href="../api/RealTimeChart.html" target="_blank">&lt;RealTimeChart&gt;</a> 노드를 정의할 필요는 없습니다.
				실시간 프리미엄 차트 생성을 원하는 chart 노드(예, <a href="../api/Column2DChart.html" target="_blank">&lt;Column2DChart&gt;</a>, <a href="../api/Combination2DChart.html" target="_blank">&lt;Combination2DChart&gt;</a>, 등)와 동일한 레벨(형제 노드)에 <a href="../api/HttpMultiServiceRepeater.html" target="_blank">&lt;HttpMultiServiceRepeater&gt;</a> 노드를 정의하기만 하면 됩니다.</p>

			<table class="doxtable">
				<tr>
					<th align="center">속성명</th>
					<th align="center">유효값 (*: 기본값)</th>
					<th align="center">설명</th>
				</tr>
				<tr>
					<td align="center">baseURL</td>
					<td align="center"><p>텍스트</p>
					</td>
					<td align="left"><p>RPC 요청을 보낼 기본 URL을 지정합니다.</p>
						<p>&lt;RPCItem&gt; 노드의 url 속성값과 결합된 값(“baseURL + RPCItem의 url”)이 RPC 요청을 보낼 최종 URL 이 됩니다.</p>
					</td>
				</tr>
				<tr>
					<td align="center">requestTimeout</td>
					<td align="center"><p>숫자 (second)</p>
					</td>
					<td align="left"><p>RPC 요청에 대한 최대 응답 대기 시간을 지정합니다.</p>
					</td>
				</tr>
				<tr>
					<td align="center">rpcList</td>
					<td align="center"><p>&lt;RPCItem&gt; 배열</p>
					</td>
					<td align="left"><p>RPC 요청 정보를 &lt;RPCItem&gt; 노드에 설정합니다.</p>
					</td>
				</tr>
				<tr>
					<td align="center">showErrorMessage</td>
					<td align="center"><p>true(*), false</p>
					</td>
					<td align="left"><p>원격 호출(RPC)이 실패할 경우 경고 메시지를 표시할 지 여부를 설정합니다.</p>
					</td>
				</tr>
				<tr>
					<td align="center">targetController</td>
					<td align="center"><p>텍스트</p>
					</td>
					<td align="left"><p>chart 노드의 id 속성값을 지정합니다.</p>
					</td>
				</tr>
			</table>

			<p>&lt;RPCItem&gt; 노드에서 사용 가능한 속성은 다음과 같습니다.</p>

			<table class="doxtable">
				<tr>
					<th align="center">속성명</th>
					<th align="center">유효값 (*: 기본값)</th>
					<th align="center">설명</th>
				</tr>
				<tr>
					<td align="center">concurrency</td>
					<td align="center"><p>multiple(*), single, last</p>
					</td>
					<td align="left"><p>RPC 요청이 동시에 여러개 발생할 경우 처리 방법을 지정합니다.</p>
						<p>multiple: 모든 요청을 보냅니다.</p>
						<p>single: 경고 메시지와 함께 한번에 하나의 요청만 보냅니다.</p>
						<p>last: 마지막 요청만 보내고 나머지는 취소합니다</p>
					</td>
				</tr>
				<tr>
					<td align="center">interval</td>
					<td align="center"><p>숫자 (second)</p>
					</td>
					<td align="left"><p>RPC 요청 주기(초 단위)를 지정합니다.</p>
					</td>
				</tr>
				<tr>
					<td align="center">method</td>
					<td align="center"><p>get(*), post</p>
					</td>
					<td align="left"><p>RPC 요청 방법을 지정합니다.</p>
					</td>
				</tr>
				<tr>
					<td align="center">name</td>
					<td align="center"><p>텍스트</p>
					</td>
					<td align="left"><p>&lt;RPCItem&gt; 노드의 이름을 지정합니다. 반드시 임의의 이름을 지정해야 합니다.</p>
					</td>
				</tr>
				<tr>
					<td align="center">retryCount</td>
					<td align="center"><p>숫자</p>
						<p>기본값: 30</p>
					</td>
					<td align="left"><p>RPC 요청 실패 시에 재시도할 횟수를 지정합니다.</p>
					</td>
				</tr>
				<tr>
					<td align="center">target</td>
					<td align="center"><p>텍스트</p>
					</td>
					<td align="left"><p>&lt;RPCItem&gt;이 적용될 해당 데이터 시리즈의 id 속성값을 지정합니다.</p>
					</td>
				</tr>
				<tr>
					<td align="center">url</td>
					<td align="center"><p>텍스트</p>
					</td>
					<td align="left"><p>RPC 요청을 보낼 URL 을 지정합니다.</p>
						<p><a href="../api/HttpMultiServiceRepeater.html" target="_blank">&lt;HttpMultiServiceRepeater&gt;</a> 노드의 baseURL 속성값과 결합된 값(<a href="../api/HttpMultiServiceRepeater.html" target="_blank">&lt;HttpMultiServiceRepeater&gt;</a> 노드의 “baseURL + url”)이 RPC 요청을 보낼 최종 URL 이 됩니다.</p>
					</td>
				</tr>
			</table>

			<p>다음은 두 개의 <a href="../api/Line2DSeries.html" target="_blank">라인 시리즈</a>와 하나의 <a href="../api/Column2DSeries.html" target="_blank">컬럼 시리즈</a>를 표현하는 콤비네이션 차트(<a href="../api/Combination2DChart.html" target="_blank">&lt;Combination2DChart&gt;</a>)에 실시간 프리미엄 차트를 적용하는 코드와 출력된 결과입니다.
				<a href="real-time-chart.html">실시간 차트</a>에서와 마찬가지로 setData() 함수는 호출하지 않고 setLayout() 함수만 호출합니다.</p>

<div class="fragment">
	<div class="line">function chartReadyHandler(id) {</div>
	<div class="line">  document.getElementById(id).setLayout(layoutStr);</div>
	<div class="line">}</div>
	<div class="line"></div>
	<div class="line">&lt;Combination2DChart id="chart" showDataTips="true" dataTipMode="multiple"&gt;</div>
	<div class="line">  &lt;series&gt;</div>
	<div class="line">    &lt;Column2DSeries id="columnSeries" xField="date" yField="data60" displayName="Cumulative Sum"&gt;</div>
	<div class="line">      &lt;horizontalAxis&gt;</div>
	<div class="line">        &lt;DateTimeAxis id="hAxis" displayLocalTime="true" labelUnits="hours" dataUnits="minutes" interval="3" dataInterval="10" formatter="{dateOrgFmt}" displayName="Time"/&gt;</div>
	<div class="line">      &lt;/horizontalAxis&gt;</div>
	<div class="line">      &lt;verticalAxis&gt;</div>
	<div class="line">        &lt;LinearAxis id="vAxis" minimum="0" maximum="999" title="Cumulative Sum"/&gt;</div>
	<div class="line">      &lt;/verticalAxis&gt;</div>
	<div class="line">      ...</div>
	<div class="line">    &lt;/Column2DSeries&gt;</div>
	<div class="line">    &lt;Line2DSeries id="lineSeries" xField="date" yField="data5" displayName="Data(5 Sec)"&gt;</div>
	<div class="line">      &lt;horizontalAxis&gt;</div>
	<div class="line">        &lt;DateTimeAxis id="hAxis2" displayLocalTime="true" labelUnits="minutes" dataUnits="seconds" interval="1" formatter="{dateOrgFmt}" displayName="Time"/&gt;</div>
	<div class="line">      &lt;/horizontalAxis&gt;</div>
	<div class="line">      &lt;verticalAxis&gt;</div>
	<div class="line">        &lt;LinearAxis id="vAxis2" minimum="0" maximum="150"/&gt;</div>
	<div class="line">      &lt;/verticalAxis&gt;</div>
	<div class="line">      ...</div>
	<div class="line">    &lt;/Line2DSeries&gt;</div>
	<div class="line">    &lt;Line2DSeries id="lineSeries2" xField="date" yField="data3" displayName="Data(3 Sec)" verticalAxis="{vAxis2}" horizontalAxis="{hAxis2}"&gt;</div>
	<div class="line">      ...</div>
	<div class="line">    &lt;/Line2DSeries&gt;</div>
	<div class="line">  &lt;/series&gt;</div>
	<div class="line">  ...</div>
	<div class="line">&lt;/Combination2DChart&gt;</div>
	<div class="line">&lt;<span class="vhdllogic">HttpMultiServiceRepeater</span> baseURL="http://demo.riamore.net/chartTest/" targetController="{chart}" requestTimeout="30"&gt;</div>
	<div class="line">  &lt;RPCList&gt;</div>
	<div class="line">    &lt;RPCItem name="rpc1" url="data3Interval.php" target="{lineSeries2}" interval="3" concurrency="last" retryCount="30"/&gt;</div>
	<div class="line">    &lt;RPCItem name="rpc2" url="data5Interval.php" target="{lineSeries}" interval="5" concurrency="last" retryCount="30"/&gt;</div>
	<div class="line">    &lt;RPCItem name="rpc3" url="data23ToCurrent2.php" target="{columnSeries}" interval="600" concurrency="last" retryCount="30"/&gt;</div>
	<div class="line">  &lt;/RPCList&gt;</div>
	<div class="line">&lt;/<span class="vhdllogic">HttpMultiServiceRepeater</span>&gt;</div>
</div>

			<!--<p data-height="432" data-theme-id="dark" data-slug-hash="JZoOZE" data-default-tab="result" data-user="riamore" data-embed-version="2" data-pen-title="알메이트 차트 - 실시간 프리미엄 차트" class="codepen">See the Pen <a href="https://codepen.io/riamore/pen/JZoOZE/">알메이트 차트 - 실시간 프리미엄 차트</a></p>-->
			<img class="capture" src="images/demo/실시간-프리미엄-차트.jpg" alt="실시간 프리미엄 차트" />
			<p>See the CodePen <a href="https://codepen.io/riamore/pen/JZoOZE/" target="_blank">알메이트 차트 - 실시간 프리미엄 차트</a></p>

			<p>위 예제에서는 3 개의 &lt;RPCItem&gt; 노드가 설정되었고 각각 2 개의 라인 시리즈와 1 개의 컬럼 시리즈의 데이터를 원격 요청합니다.
				2 개의 라인 시리즈(<a href="../api/Line2DSeries.html" target="_blank">&lt;Line2DSeries&gt;</a>)에 대한 원격 요청 주기는 각각 3 초(interval = <prop>“3”</prop>), 5 초(interval = <prop>“5”</prop>)이고,
				컬럼 시리즈<a href="../api/Column2DSeries.html" target="_blank">&lt;Column2DSeries&gt;</a>에 대한 원격 요청 주기는 10 분(interval = <prop>“600”</prop>)입니다.
				2 개의 라인 시리즈의 초기 데이터는 없으며 차트가 최초에 생성된 다음 10 분 동안(데이터 시간 범위) 설정된 주기에 원격 요청하여 하나씩 데이터를 표시하고, 10 분이 지나면 화면에 표시된 데이터를 모두 삭제한 후 다시 10 분 동안의 데이터를 표시하는 것을 반복합니다.
				컬럼 시리즈는 10 분 동안에 누적된 데이터를 표시하는 예제인데, 10 분 주기에 원격 요청하여 컬럼을 하나씩 표시하게 됩니다.
				이 예제에서 사용된 서버 스크립트의 소스 파일은 아래 디렉토리에서 찾으실 수 있습니다.</p>

			<table class="doxtable">
				<tr>
					<td><p>설치 디렉토리/Samples/RealtimeServerSamples/</p>
					</td>
				</tr>
			</table>

		</div><!-- textblock -->
	</div><!-- contents -->
</div>
</body>
</html>
